/* ============================================================
   FICHIER : style.css
   RÔLE    : Contient tout le style visuel de l'application.
             En CSS, on décrit l'apparence des éléments HTML :
             couleurs, tailles, polices, animations, mise en page...
   ============================================================ */

/* --- Importation des polices depuis Google Fonts ---
   On charge deux polices spéciales depuis internet :
   - Space Mono  : police à chasse fixe (style "code")
   - Syne        : police moderne pour les titres           */
@import url('https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400&family=Syne:wght@400;600;800&display=swap');

/* --- Variables CSS (palette de couleurs du projet) ---
   :root signifie "racine du document".
   On déclare des variables réutilisables partout dans le CSS.
   Syntaxe : --nom-variable: valeur;
   Utilisation : var(--nom-variable)                        */
:root {
  --bg: #080c10;        /* couleur de fond principale (noir bleuté) */
  --surface: #0d1117;   /* fond secondaire légèrement plus clair */
  --panel: #111820;     /* fond des panneaux/cartes */
  --border: #1e2d3d;    /* couleur des bordures */
  --accent: #00e5ff;    /* couleur principale d'accentuation (cyan) */
  --accent2: #ff6b35;   /* couleur secondaire (orange) */
  --accent3: #7fff6b;   /* couleur tertiaire (vert) */
  --text: #c9d1d9;      /* couleur du texte principal */
  --dim: #58697a;       /* couleur du texte atténué / secondaire */
  --adjoua: #ff6b35;    /* couleur associée à Adjoua (orange) */
  --koffi: #00e5ff;     /* couleur associée à Koffi (cyan) */
  --success: #7fff6b;   /* couleur de succès (vert) */
  --danger: #ff4d6d;    /* couleur d'erreur/danger (rouge) */
}

/* --- Réinitialisation des marges et padding par défaut ---
   Le navigateur ajoute des espaces par défaut autour des éléments.
   On les supprime pour tout contrôler nous-mêmes.
   box-sizing: border-box = la taille inclut les bordures et padding */
* { box-sizing: border-box; margin: 0; padding: 0; }

/* --- Style du corps de la page (body) ---
   C'est le conteneur principal de tout le contenu visible.  */
body {
  font-family: 'Space Mono', monospace; /* police utilisée par défaut */
  background: var(--bg);                /* fond sombre */
  color: var(--text);                   /* couleur du texte */
  min-height: 100vh;                    /* au moins toute la hauteur de l'écran */
  overflow-x: hidden;                   /* pas de défilement horizontal */
}

/* --- Grille décorative en arrière-plan ---
   body::before crée un pseudo-élément AVANT le contenu.
   Ici, on dessine une grille de lignes très discrètes.
   pointer-events: none = la grille ne bloque pas les clics. */
body::before {
  content: '';
  position: fixed;       /* reste en place même si on fait défiler */
  inset: 0;              /* couvre toute la page (haut, bas, gauche, droite) */
  background-image: 
    linear-gradient(rgba(0,229,255,0.03) 1px, transparent 1px),
    linear-gradient(90deg, rgba(0,229,255,0.03) 1px, transparent 1px);
  background-size: 40px 40px; /* taille d'une cellule de la grille */
  pointer-events: none;       /* la grille ne capte pas les événements souris */
  z-index: 0;                 /* derrière tout le contenu */
}

/* --- En-tête de la page ---
   La barre en haut avec le logo et les badges.             */
header {
  position: relative;
  z-index: 10;                         /* au-dessus de la grille */
  padding: 24px 40px;                  /* espace intérieur */
  border-bottom: 1px solid var(--border); /* ligne de séparation */
  display: flex;                       /* alignement côte à côte */
  align-items: center;                 /* centré verticalement */
  justify-content: space-between;      /* logo à gauche, badges à droite */
  background: rgba(8,12,16,0.9);       /* fond semi-transparent */
  backdrop-filter: blur(10px);         /* effet de flou derrière le header */
}

/* --- Logo "CryptoLink" ---                                */
.logo {
  font-family: 'Syne', sans-serif;
  font-weight: 800;
  font-size: 1.4rem;
  color: var(--accent);      /* "Crypto" en cyan */
  letter-spacing: -0.02em;
}
/* La partie "Link" du logo est en orange */
.logo span { color: var(--accent2); }

/* --- Conteneur des badges (AES-256, RSA-2048, SHA-256) --- */
.badges {
  display: flex;      /* les badges côte à côte */
  gap: 8px;           /* espace entre chaque badge */
  flex-wrap: wrap;    /* retour à la ligne si pas assez de place */
}

/* --- Style de base d'un badge ---                         */
.badge {
  font-size: 0.65rem;
  padding: 3px 8px;
  border: 1px solid;           /* bordure (couleur définie par les classes ci-dessous) */
  letter-spacing: 0.1em;       /* espacement entre les lettres */
  text-transform: uppercase;   /* texte en majuscules */
}
/* Couleurs spécifiques pour chaque badge */
.badge-aes { border-color: var(--accent);  color: var(--accent);  }
.badge-rsa { border-color: var(--accent2); color: var(--accent2); }
.badge-sha { border-color: var(--accent3); color: var(--accent3); }

/* --- Contenu principal de la page ---                     */
main {
  position: relative;
  z-index: 1;
  max-width: 1400px;    /* largeur maximale */
  margin: 0 auto;       /* centré horizontalement */
  padding: 32px 24px;   /* espace intérieur */
}

/* ==========================================================
   ONGLETS (TABS)
   Les boutons de navigation entre les 4 sections.
   ========================================================== */
.tabs {
  display: flex;
  gap: 4px;
  margin-bottom: 32px;
  border-bottom: 1px solid var(--border);
  overflow-x: auto;         /* défilement horizontal sur petits écrans */
  scrollbar-width: none;    /* cache la barre de défilement */
}

/* --- Bouton d'onglet ---                                  */
.tab {
  padding: 10px 20px;
  font-family: 'Syne', sans-serif;
  font-size: 0.8rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  cursor: pointer;                      /* curseur "main" au survol */
  border: none;                         /* pas de bordure */
  background: transparent;             /* fond transparent */
  color: var(--dim);                    /* texte atténué par défaut */
  border-bottom: 2px solid transparent; /* soulignement invisible par défaut */
  transition: all 0.2s;                 /* animation douce lors du changement */
  white-space: nowrap;                  /* le texte ne se coupe pas */
}
.tab:hover { color: var(--text); }                              /* au survol : texte plus lumineux */
.tab.active { color: var(--accent); border-bottom-color: var(--accent); } /* onglet actif : cyan + soulignement */

/* --- Contenu des onglets ---
   Par défaut masqué, visible uniquement si la classe "active" est présente. */
.tab-content { display: none; }
.tab-content.active { display: block; }

/* ==========================================================
   MISE EN PAGE À DEUX COLONNES
   Utilisée pour afficher Adjoua et Koffi côte à côte.
   ========================================================== */
.two-col {
  display: grid;
  grid-template-columns: 1fr 1fr; /* deux colonnes de taille égale */
  gap: 24px;
}
/* Sur les petits écrans (< 900px) : une seule colonne */
@media(max-width: 900px) { .two-col { grid-template-columns: 1fr; } }

/* --- Panneau / Carte ---
   Les boîtes qui contiennent les informations.             */
.panel {
  background: var(--panel);
  border: 1px solid var(--border);
  padding: 24px;
}

/* --- Titre d'un panneau ---                               */
.panel-title {
  font-family: 'Syne', sans-serif;
  font-weight: 600;
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.15em;
  margin-bottom: 20px;
  display: flex;
  align-items: center;
  gap: 10px;
}
/* Petit losange décoratif avant le titre */
.panel-title::before {
  content: '';
  display: inline-block;
  width: 8px; height: 8px;
  background: currentColor;
  clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%); /* forme de losange */
}
/* Couleurs selon l'identité */
.adjoua-title  { color: var(--adjoua); }
.koffi-title   { color: var(--koffi); }
.neutral-title { color: var(--accent3); }

/* ==========================================================
   FORMULAIRES (labels, zones de texte, champs de saisie)
   ========================================================== */
label {
  display: block;
  font-size: 0.7rem;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: var(--dim);
  margin-bottom: 6px;
}

/* Style commun pour les zones de texte et les champs texte */
textarea, input[type="text"] {
  width: 100%;
  background: var(--bg);
  border: 1px solid var(--border);
  color: var(--text);
  font-family: 'Space Mono', monospace;
  font-size: 0.8rem;
  padding: 12px;
  outline: none;            /* supprime le contour bleu par défaut du navigateur */
  resize: vertical;         /* redimensionnable uniquement en hauteur */
  transition: border-color 0.2s;
}
/* Au clic sur un champ : la bordure devient cyan */
textarea:focus, input[type="text"]:focus { border-color: var(--accent); }
textarea { min-height: 100px; }

/* Espace sous chaque groupe label + champ */
.field { margin-bottom: 16px; }

/* ==========================================================
   BOUTONS
   ========================================================== */
.btn {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 10px 20px;
  font-family: 'Syne', sans-serif;
  font-weight: 600;
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  cursor: pointer;
  border: 1px solid;
  background: transparent;
  transition: all 0.2s;
}
/* Bouton principal (cyan) */
.btn-primary { border-color: var(--accent); color: var(--accent); }
.btn-primary:hover { background: var(--accent); color: var(--bg); }

/* Bouton danger (rouge) */
.btn-danger { border-color: var(--danger); color: var(--danger); }
.btn-danger:hover { background: var(--danger); color: white; }

/* Bouton succès (vert) */
.btn-success { border-color: var(--success); color: var(--success); }
.btn-success:hover { background: var(--success); color: var(--bg); }

/* Bouton désactivé : semi-transparent + curseur interdit */
.btn:disabled { opacity: 0.3; cursor: not-allowed; }

/* ==========================================================
   BLOCS DE CODE (affichage des données chiffrées)
   ========================================================== */
.code-block {
  background: var(--bg);
  border: 1px solid var(--border);
  padding: 12px;
  font-size: 0.7rem;
  word-break: break-all;   /* coupe les mots très longs (comme les hash) */
  line-height: 1.6;
  color: var(--accent3);   /* texte en vert */
  min-height: 60px;
  max-height: 120px;
  overflow-y: auto;        /* défilement vertical si trop long */
  scrollbar-width: thin;
}
/* Quand le bloc est vide, le texte est grisé et en italique */
.code-block.empty { color: var(--dim); font-style: italic; }

/* ==========================================================
   LIGNES DE STATUT (messages d'information colorés)
   ========================================================== */
.status-line {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  font-size: 0.72rem;
  border-left: 3px solid;  /* barre colorée à gauche */
  margin: 12px 0;
  background: rgba(0,0,0,0.3);
}
/* Variantes de couleur selon le type de message */
.status-ok    { border-color: var(--success); color: var(--success); }
.status-error { border-color: var(--danger);  color: var(--danger);  }
.status-info  { border-color: var(--accent);  color: var(--accent);  }
.status-warn  { border-color: var(--accent2); color: var(--accent2); }

/* ==========================================================
   PIPELINE (les étapes animées du processus de chiffrement)
   ========================================================== */
.pipeline {
  display: flex;
  flex-direction: column; /* les étapes s'empilent verticalement */
  gap: 0;
  margin: 20px 0;
}

/* --- Une étape du pipeline ---
   Par défaut, l'étape est transparente (opacity 0.3 = grisée).
   Elle s'illumine quand elle devient active ou terminée.  */
.pipeline-step {
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 14px 16px;
  border: 1px solid var(--border);
  border-bottom: none;     /* les étapes partagent leur bordure du bas */
  background: var(--bg);
  opacity: 0.3;            /* grisée par défaut */
  transition: all 0.4s;    /* transition douce */
  position: relative;
}
/* La dernière étape garde sa bordure du bas */
.pipeline-step:last-child { border-bottom: 1px solid var(--border); }

/* Étape terminée : opaque (visible) */
.pipeline-step.done { opacity: 1; }

/* Étape en cours : bordure cyan + fond légèrement coloré */
.pipeline-step.active {
  opacity: 1;
  border-color: var(--accent);
  background: rgba(0,229,255,0.04);
}

/* --- Numéro de l'étape (cercle avec le chiffre) ---       */
.step-num {
  width: 28px; height: 28px;
  border: 1px solid var(--border);
  display: flex; align-items: center; justify-content: center;
  font-size: 0.7rem;
  flex-shrink: 0;   /* ne rétrécit pas */
  font-weight: 700;
}
/* Étape terminée : fond vert */
.done .step-num {
  background: var(--success);
  border-color: var(--success);
  color: var(--bg);
}
/* Étape active : fond cyan + animation de pulsation */
.active .step-num {
  background: var(--accent);
  border-color: var(--accent);
  color: var(--bg);
  animation: pulse 1s infinite; /* clignote */
}

/* Animation "pulse" : fait clignoter l'opacité entre 1 et 0.5 */
@keyframes pulse { 0%,100%{opacity:1} 50%{opacity:0.5} }

/* Infos textuelles d'une étape */
.step-info { flex: 1; } /* prend tout l'espace disponible */
.step-name {
  font-family: 'Syne', sans-serif;
  font-size: 0.8rem;
  font-weight: 600;
  margin-bottom: 2px;
}
.step-desc { font-size: 0.65rem; color: var(--dim); }

/* Étiquette (tag) à droite de chaque étape */
.step-tag {
  font-size: 0.6rem;
  padding: 2px 6px;
  border: 1px solid;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  flex-shrink: 0;
}

/* ==========================================================
   AUTRES ÉLÉMENTS DE MISE EN PAGE
   ========================================================== */

/* Connecteur flèche entre sections */
.arrow-connector {
  display: flex;
  justify-content: center;
  padding: 8px 0;
  color: var(--dim);
  font-size: 1.2rem;
}

/* Zone de transmission (affichage des paquets en transit) */
.transmission-zone {
  padding: 20px;
  border: 1px dashed var(--border); /* bordure pointillée */
  text-align: center;
  margin: 24px 0;
  position: relative;
}
.transmission-label {
  font-size: 0.65rem;
  text-transform: uppercase;
  letter-spacing: 0.15em;
  color: var(--dim);
  margin-bottom: 12px;
}
.data-flow {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 16px;
  flex-wrap: wrap;
}
.data-packet {
  padding: 6px 12px;
  background: rgba(0,229,255,0.08);
  border: 1px solid var(--accent);
  font-size: 0.65rem;
  color: var(--accent);
}

/* ==========================================================
   RÉSULTAT DE VÉRIFICATION (succès ou échec)
   ========================================================== */
.verify-result {
  padding: 20px;
  text-align: center;
  border: 2px solid;
  margin-top: 16px;
  animation: fadeIn 0.5s ease; /* apparaît en fondu */
}
.verify-ok   { border-color: var(--success); background: rgba(127,255,107,0.05); }
.verify-fail { border-color: var(--danger);  background: rgba(255,77,109,0.05);  }
.verify-icon  { font-size: 2rem; margin-bottom: 8px; }
.verify-title { font-family: 'Syne', sans-serif; font-size: 1rem; font-weight: 800; }
.verify-ok   .verify-title { color: var(--success); }
.verify-fail .verify-title { color: var(--danger);  }

/* Animation d'apparition en fondu depuis le bas */
@keyframes fadeIn { from{opacity:0;transform:translateY(10px)} to{opacity:1;transform:translateY(0)} }

/* ==========================================================
   CRYPTOGRAPHIE CLASSIQUE (César et Vigenère)
   ========================================================== */

/* Contrôle du curseur de décalage */
.shift-control {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 16px;
}
input[type="range"] {
  flex: 1;
  accent-color: var(--accent); /* couleur du curseur */
}
/* Valeur affichée à côté du curseur */
.shift-val {
  font-size: 1.2rem;
  font-weight: 700;
  color: var(--accent);
  min-width: 30px;
  text-align: center;
}

/* ==========================================================
   STATISTIQUES (compteurs de messages, succès, attaques)
   ========================================================== */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr); /* 3 colonnes égales */
  gap: 16px;
  margin-bottom: 24px;
}
.stat-card {
  background: var(--bg);
  border: 1px solid var(--border);
  padding: 20px 16px;
  text-align: center;
}
.stat-val {
  font-family: 'Syne', sans-serif;
  font-size: 1.6rem;
  font-weight: 800;
  line-height: 1;
  margin-bottom: 6px;
}
.stat-label { font-size: 0.62rem; text-transform: uppercase; letter-spacing: 0.1em; color: var(--dim); }

/* ==========================================================
   TIMELINE (chronologie des événements)
   ========================================================== */
.timeline { position: relative; padding-left: 24px; }
/* Ligne verticale de la timeline */
.timeline::before {
  content: '';
  position: absolute;
  left: 7px;
  top: 0; bottom: 0;
  width: 2px;
  background: var(--border);
}
.timeline-item {
  position: relative;
  margin-bottom: 20px;
  padding-left: 20px;
}
/* Losange sur la timeline pour chaque événement */
.timeline-item::before {
  content: '';
  position: absolute;
  left: -24px;
  top: 6px;
  width: 10px; height: 10px;
  background: var(--accent);
  clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%);
}
.timeline-time    { font-size: 0.62rem; color: var(--dim); margin-bottom: 3px; }
.timeline-content { font-size: 0.78rem; }
.timeline-content strong { color: var(--accent2); }

/* ==========================================================
   TITRES DE SECTION
   ========================================================== */
.section-title {
  font-family: 'Syne', sans-serif;
  font-weight: 800;
  font-size: 1.1rem;
  color: var(--text);
  margin-bottom: 8px;
  display: flex;
  align-items: center;
  gap: 12px;
}
/* Ligne horizontale qui s'étend après le titre */
.section-title::after {
  content: '';
  flex: 1;
  height: 1px;
  background: var(--border);
}
.section-sub { font-size: 0.72rem; color: var(--dim); margin-bottom: 24px; }

/* ==========================================================
   JOURNAL D'EXÉCUTION (log)
   ========================================================== */
#log {
  background: var(--bg);
  border: 1px solid var(--border);
  padding: 16px;
  height: 200px;
  overflow-y: auto;       /* défilement si beaucoup de lignes */
  font-size: 0.7rem;
  line-height: 2;
  scrollbar-width: thin;
}
/* Chaque ligne du log */
.log-line { display: flex; gap: 12px; }
.log-ts   { color: var(--dim); flex-shrink: 0; } /* horodatage grisé */
.log-msg  { flex: 1; }
/* Couleurs selon le type de message */
.log-ok   .log-msg { color: var(--success); } /* succès : vert */
.log-err  .log-msg { color: var(--danger);  } /* erreur : rouge */
.log-info .log-msg { color: var(--accent);  } /* info : cyan */
.log-warn .log-msg { color: var(--accent2); } /* avertissement : orange */

/* ==========================================================
   TABLEAUX COMPARATIFS
   ========================================================== */
table {
  width: 100%;
  border-collapse: collapse; /* fusionne les bordures adjacentes */
  font-size: 0.75rem;
}
/* Cellules d'en-tête */
th {
  background: var(--bg);
  padding: 10px 14px;
  text-align: left;
  font-family: 'Syne', sans-serif;
  font-size: 0.65rem;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: var(--dim);
  border: 1px solid var(--border);
}
/* Cellules de données */
td { padding: 10px 14px; border: 1px solid var(--border); }
/* Léger surlignage au survol d'une ligne */
tr:hover td { background: rgba(255,255,255,0.02); }
/* Couleurs pour indiquer "bon", "mauvais", "moyen" */
.td-good { color: var(--success); }
.td-bad  { color: var(--danger);  }
.td-med  { color: var(--accent2); }

/* Espace vertical simple */
.separator { height: 24px; }

/* ==========================================================
   SIMULATION D'ATTAQUE (case à cocher)
   ========================================================== */
.attack-toggle {
  display: flex;
  align-items: center;
  gap: 12px;
  margin: 16px 0;
  font-size: 0.8rem;
}
input[type="checkbox"] {
  width: 16px; height: 16px;
  accent-color: var(--danger); /* case à cocher rouge */
}
